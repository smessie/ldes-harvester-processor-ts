@prefix rdfc: <https://w3id.org/rdf-connect#>.
@prefix js: <https://w3id.org/conn/js#>.
@prefix : <https://w3id.org/conn#>.
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.

### Import runners and processors
<> owl:imports <./node_modules/@rdfc/js-runner/index.ttl>.

<> owl:imports <../node_modules/@rdfc/log-processor-ts/processor.ttl>.
<> owl:imports <../processor.ttl>.

### Define the channels
<output> a rdfc:Reader, rdfc:Writer.

### Define the pipeline
<> a rdfc:Pipeline;
   rdfc:consistsOf [
       rdfc:instantiates rdfc:NodeRunner;
       rdfc:processor <harvester>, <logger>;
   ].

### Define the processors
<harvester> a rdfc:LdesHarvester;
    rdfc:writer <output>;
    rdfc:url "https://www.pieter.pm/dcat/sweden/feed.ttl";
    rdfc:start "2026-02-01T00:00:00Z"^^xsd:dateTime;
    rdfc:end "2026-02-02T00:00:00Z"^^xsd:dateTime;
    rdfc:interval 3600000;
    rdfc:amountPerInterval 100;
    rdfc:urlIsView "false"^^xsd:boolean.

<logger> a rdfc:LogProcessorJs;
    rdfc:reader <output>;
    rdfc:level "info";
    rdfc:label "output".
